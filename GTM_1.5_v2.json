{"last_node_id": 54, "last_link_id": 93, "nodes": [{"id": 4, "type": "LoadImage", "pos": [-103, 872], "size": {"0": 383.98651123046875, "1": 383.4250183105469}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [14], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": [], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["face_fix_Siax_.png", "image"]}, {"id": 2, "type": "ControlNetLoader", "pos": [-60, 1312], "size": {"0": 315, "1": 58}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [1], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["control_seg-fp16.safetensors"]}, {"id": 8, "type": "Nui.OpenPoseEditor", "pos": [317, 878], "size": {"0": 324, "1": 351}, "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Nui.OpenPoseEditor", "savedPose": "{\n    \"width\": 560,\n    \"height\": 800,\n    \"keypoints\": [\n        [\n            [\n                263.9931003034113,\n                267.69039230897863\n            ],\n            [\n                267.0158910285432,\n                334.5559275556797\n            ],\n            [\n                186.21243208658885,\n                331.73308406457494\n            ],\n            [\n                176.59111041858174,\n                434.24078353564715\n            ],\n            [\n                270.51834015350033,\n                523.2292664320064\n            ],\n            [\n                353.1652979201905,\n                331.1185158598209\n            ],\n            [\n                385.6391851657553,\n                407.30050306558377\n            ],\n            [\n                283.3096574007063,\n                406.1020849411924\n            ],\n            [\n                239.9669443836236,\n                522.8043317643101\n            ],\n            [\n                196.92883155297108,\n                402.031113134086\n            ],\n            [\n                167.27340535507778,\n                626.1766239435639\n            ],\n            [\n                310.17504232538676,\n                520.9908560530308\n            ],\n            [\n                336.5272567484591,\n                392.07260571038626\n            ],\n            [\n                361.3662458068394,\n                626.0995488615373\n            ],\n            [\n                242.50538048557377,\n                214.96984967334478\n            ],\n            [\n                278.44542452487417,\n                216.79583604205055\n            ],\n            [\n                224.64443323699862,\n                243.53789345610855\n            ],\n            [\n                303.3286004043369,\n                259.8062011374357\n            ]\n        ]\n    ]\n}"}, "widgets_values": ["ComfyUI_OpenPose_76.png", "{\n    \"width\": 560,\n    \"height\": 800,\n    \"keypoints\": [\n        [\n            [\n                263.9931003034113,\n                267.69039230897863\n            ],\n            [\n                267.0158910285432,\n                334.5559275556797\n            ],\n            [\n                186.21243208658885,\n                331.73308406457494\n            ],\n            [\n                176.59111041858174,\n                434.24078353564715\n            ],\n            [\n                270.51834015350033,\n                523.2292664320064\n            ],\n            [\n                353.1652979201905,\n                331.1185158598209\n            ],\n            [\n                385.6391851657553,\n                407.30050306558377\n            ],\n            [\n                283.3096574007063,\n                406.1020849411924\n            ],\n            [\n                239.9669443836236,\n                522.8043317643101\n            ],\n            [\n                196.92883155297108,\n                402.031113134086\n            ],\n            [\n                167.27340535507778,\n                626.1766239435639\n            ],\n            [\n                310.17504232538676,\n                520.9908560530308\n            ],\n            [\n                336.5272567484591,\n                392.07260571038626\n            ],\n            [\n                361.3662458068394,\n                626.0995488615373\n            ],\n            [\n                242.50538048557377,\n                214.96984967334478\n            ],\n            [\n                278.44542452487417,\n                216.79583604205055\n            ],\n            [\n                224.64443323699862,\n                243.53789345610855\n            ],\n            [\n                303.3286004043369,\n                259.8062011374357\n            ]\n        ]\n    ]\n}", "image"]}, {"id": 7, "type": "Reroute", "pos": [956.1001708984378, 1262.8399218750017], "size": [75, 26], "flags": {}, "order": 3, "mode": 0, "inputs": [{"name": "", "type": "*", "link": null, "slot_index": 0}], "outputs": [{"name": "", "type": "*", "links": [70], "slot_index": 0}], "properties": {"showOutputText": false, "horizontal": false}}, {"id": 6, "type": "Reroute", "pos": [820.1001708984378, 1263.8399218750017], "size": [75, 26], "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 13}], "outputs": [{"name": "", "type": "CONDITIONING", "links": [], "slot_index": 0}], "properties": {"showOutputText": false, "horizontal": false}, "color": "#232", "bgcolor": "#353"}, {"id": 3, "type": "ControlNetApply", "pos": [318, 1280], "size": {"0": 317.4000244140625, "1": 98}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "conditioning", "type": "CONDITIONING", "link": 51, "slot_index": 0}, {"name": "control_net", "type": "CONTROL_NET", "link": 1}, {"name": "image", "type": "IMAGE", "link": 14}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [13], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ControlNetApply"}, "widgets_values": [1]}, {"id": 41, "type": "Samples Passthrough (Stat System)", "pos": [1815.226891601561, 795], "size": {"0": 210, "1": 26}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 71}], "outputs": [{"name": "samples", "type": "LATENT", "links": [66], "shape": 3, "slot_index": 0}], "title": "CTRL+M to toggle", "properties": {"Node name for S&R": "Samples Passthrough (Stat System)"}, "color": "#323", "bgcolor": "#535"}, {"id": 26, "type": "UltralyticsDetectorProvider", "pos": [2710, 710], "size": {"0": 315, "1": 78}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [33], "shape": 3, "slot_index": 0}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": null, "shape": 3}], "properties": {"Node name for S&R": "UltralyticsDetectorProvider"}, "widgets_values": ["bbox/face_yolov8n_v2.pt"]}, {"id": 17, "type": "SAMLoader", "pos": [2710, 830], "size": {"0": 315, "1": 82}, "flags": {}, "order": 5, "mode": 0, "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [34], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "SAMLoader"}, "widgets_values": ["sam_vit_h_4b8939.pth", "AUTO"], "color": "#232", "bgcolor": "#353"}, {"id": 37, "type": "RebatchLatents", "pos": [2780, 950], "size": {"0": 315, "1": 58}, "flags": {"collapsed": true}, "order": 17, "mode": 0, "inputs": [{"name": "latents", "type": "LATENT", "link": 66}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [56], "shape": 6, "slot_index": 0}], "properties": {"Node name for S&R": "RebatchLatents"}, "widgets_values": [1]}, {"id": 38, "type": "VAEDecode", "pos": [2800, 1000], "size": {"0": 210, "1": 46}, "flags": {"collapsed": true}, "order": 18, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 56}, {"name": "vae", "type": "VAE", "link": 59}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [60], "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 22, "type": "MaskToImage", "pos": [2760, 1040], "size": {"0": 210, "1": 26}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 23}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [24], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "MaskToImage"}}, {"id": 24, "type": "CLIPTextEncode", "pos": [2770, 620], "size": {"0": 210, "1": 54}, "flags": {"collapsed": true}, "order": 11, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 25, "slot_index": 0}, {"name": "text", "type": "STRING", "link": 38, "widget": {"name": "text", "config": ["STRING", {"multiline": true}]}, "slot_index": 1}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [90, 91], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["NSFW, a full-body photo of naked __actress__ staring up at the sky"], "color": "#232", "bgcolor": "#353"}, {"id": 19, "type": "Text box", "pos": [1815.8701689453142, 868.2958561132829], "size": {"0": 210.1193389892578, "1": 93.82769775390625}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": null, "shape": 3}], "title": "Face Detailer", "properties": {"Node name for S&R": "Text box"}, "widgets_values": ["Select the node above and press CTRL+m to toggle the face masking and detailing."], "color": "#222", "bgcolor": "#000"}, {"id": 51, "type": "PreviewImage", "pos": [2122, 543], "size": {"0": 558.0537719726562, "1": 804.974609375}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 76}], "title": "Detailed Preview Image", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 25, "type": "Checkpoint Loader (Simple)", "pos": [2710, 470], "size": {"0": 315, "1": 118}, "flags": {}, "order": 7, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [28, 78], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [22, 25, 29], "shape": 3, "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [30, 59, 81], "shape": 3, "slot_index": 2}, {"name": "NAME_STRING", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Checkpoint Loader (Simple)"}, "widgets_values": ["GTM_ForYou-Photo_v2_pruned.safetensors"]}, {"id": 23, "type": "PreviewImage", "pos": [2714, 1123], "size": {"0": 301.8984680175781, "1": 246}, "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 24}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 39, "type": "Image Save", "pos": [3638, 1254], "size": {"0": 318.1065673828125, "1": 352.794921875}, "flags": {"collapsed": true}, "order": 23, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 82}], "properties": {"Node name for S&R": "Image Save"}, "widgets_values": ["UpScaled", "HiRes", "_", 4, "true", "png", 100, "false", "false", "false", "true", "true", "false"], "color": "#322", "bgcolor": "#533"}, {"id": 52, "type": "UpscaleModelLoader", "pos": [3559, 487], "size": {"0": 315, "1": 58}, "flags": {}, "order": 8, "mode": 0, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [83], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4x-UltraSharp.pth"], "color": "#223", "bgcolor": "#335"}, {"id": 50, "type": "UltimateSDUpscale", "pos": [3558, 606], "size": {"0": 315, "1": 590}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 77}, {"name": "model", "type": "MODEL", "link": 78}, {"name": "positive", "type": "CONDITIONING", "link": 91}, {"name": "negative", "type": "CONDITIONING", "link": 92}, {"name": "vae", "type": "VAE", "link": 81}, {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 83}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [76, 82], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UltimateSDUpscale"}, "widgets_values": [2, 208679666177, "fixed", 25, 9, "dpmpp_2m", "karras", 0.2, "Linear", 600, 800, 8, 32, "None", 1, 64, 8, 16, "enable"], "color": "#223", "bgcolor": "#335"}, {"id": 42, "type": "ttN pipeKSampler", "pos": [1160, 396], "size": [570.8170166015625, 1058.2120361328125], "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "pipe", "type": "PIPE_LINE", "link": 69}, {"name": "optional_model", "type": "MODEL", "link": null}, {"name": "optional_positive", "type": "CONDITIONING", "link": 70}, {"name": "optional_negative", "type": "CONDITIONING", "link": null}, {"name": "optional_latent", "type": "LATENT", "link": null}, {"name": "optional_vae", "type": "VAE", "link": null}, {"name": "optional_clip", "type": "CLIP", "link": null}, {"name": "xyPlot", "type": "XYPLOT", "link": null}, {"name": "seed", "type": "INT", "link": 93, "widget": {"name": "seed", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": null, "shape": 3}, {"name": "model", "type": "MODEL", "links": null, "shape": 3}, {"name": "positive", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "negative", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "latent", "type": "LATENT", "links": [71], "shape": 3, "slot_index": 4}, {"name": "vae", "type": "VAE", "links": null, "shape": 3}, {"name": "clip", "type": "CLIP", "links": null, "shape": 3}, {"name": "image", "type": "IMAGE", "links": null, "shape": 3}, {"name": "seed", "type": "INT", "links": null, "shape": 3}], "properties": {"Node name for S&R": "ttN pipeKSampler", "ttNnodeVersion": "1.0.3"}, "widgets_values": ["None", 0.35, 1, "None", 2, "disabled", "Sample", 30, 8, "dpmpp_2m", "karras", 1, "Preview", "ComfyUI", 574583765156894, "fixed"], "color": "#323", "bgcolor": "#535"}, {"id": 28, "type": "FaceDetailer", "pos": [3070, 494], "size": {"0": 456, "1": 788}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 60}, {"name": "model", "type": "MODEL", "link": 28}, {"name": "clip", "type": "CLIP", "link": 29}, {"name": "vae", "type": "VAE", "link": 30}, {"name": "positive", "type": "CONDITIONING", "link": 90}, {"name": "negative", "type": "CONDITIONING", "link": 32}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 33, "slot_index": 6}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": 34}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": null}], "outputs": [{"name": "image", "type": "IMAGE", "links": [77], "shape": 3, "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": [], "shape": 6, "slot_index": 1}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": null, "shape": 6}, {"name": "mask", "type": "MASK", "links": [23], "shape": 3, "slot_index": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3}], "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [256, false, 640, 180, "increment", 20, 10, "dpmpp_2m", "karras", 0.25, 5, true, true, 0.7000000000000003, 10, 3, "center-1", 0, 0.8000000000000002, 0, 0.4, "False", 10, ""], "color": "#323", "bgcolor": "#535"}, {"id": 11, "type": "ImpactWildcardProcessor", "pos": [260, 396], "size": {"0": 437.3445739746094, "1": 366.56610107421875}, "flags": {}, "order": 9, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [38, 40], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImpactWildcardProcessor"}, "widgets_values": ["", "", true], "color": "#232", "bgcolor": "#353"}, {"id": 29, "type": "ttN pipeLoader", "pos": [735, 396], "size": {"0": 400, "1": 740}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "positive", "type": "STRING", "link": 40, "widget": {"name": "positive", "config": ["STRING", {"default": "Positive", "multiline": true}]}}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": [69], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": null, "shape": 3}, {"name": "positive", "type": "CONDITIONING", "links": [51], "shape": 3, "slot_index": 2}, {"name": "negative", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "latent", "type": "LATENT", "links": null, "shape": 3}, {"name": "vae", "type": "VAE", "links": null, "shape": 3}, {"name": "clip", "type": "CLIP", "links": null, "shape": 3}, {"name": "seed", "type": "INT", "links": [93], "shape": 3, "slot_index": 7}], "title": "pipeLoader + Negative Prompt", "properties": {"Node name for S&R": "ttN pipeLoader", "ttNnodeVersion": "1.0.1"}, "widgets_values": ["GTM_SemiReal_EXPERIMENTAL_rev2.safetensors", "Baked VAE", -1, "None", 0.2, 1, "None", 0.5, 1, "None", 0.3, 1, "Positive", "none", "A1111", "featureless (game pixelated distorted glitch abstract error, worst quality:1.2)", "none", "A1111", 560, 760, 1, 163, "increment"], "color": "#322", "bgcolor": "#533"}, {"id": 21, "type": "CLIPTextEncode", "pos": [2780, 670], "size": {"0": 383.0995788574219, "1": 88.64876556396484}, "flags": {"collapsed": true}, "order": 10, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 22, "slot_index": 0}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [32, 92], "slot_index": 0}], "title": "Face Prompt Negative", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["featureless (game pixelated distorted glitch abstract error, worst quality:1.2)"], "color": "#322", "bgcolor": "#533"}], "links": [[1, 2, 0, 3, 1, "CONTROL_NET"], [13, 3, 0, 6, 0, "*"], [14, 4, 0, 3, 2, "IMAGE"], [22, 25, 1, 21, 0, "CLIP"], [23, 28, 3, 22, 0, "MASK"], [24, 22, 0, 23, 0, "IMAGE"], [25, 25, 1, 24, 0, "CLIP"], [28, 25, 0, 28, 1, "MODEL"], [29, 25, 1, 28, 2, "CLIP"], [30, 25, 2, 28, 3, "VAE"], [32, 21, 0, 28, 5, "CONDITIONING"], [33, 26, 0, 28, 6, "BBOX_DETECTOR"], [34, 17, 0, 28, 7, "SAM_MODEL"], [38, 11, 0, 24, 1, "STRING"], [40, 11, 0, 29, 0, "STRING"], [51, 29, 2, 3, 0, "CONDITIONING"], [56, 37, 0, 38, 0, "LATENT"], [59, 25, 2, 38, 1, "VAE"], [60, 38, 0, 28, 0, "IMAGE"], [66, 41, 0, 37, 0, "LATENT"], [69, 29, 0, 42, 0, "PIPE_LINE"], [70, 7, 0, 42, 2, "CONDITIONING"], [71, 42, 4, 41, 0, "LATENT"], [76, 50, 0, 51, 0, "IMAGE"], [77, 28, 0, 50, 0, "IMAGE"], [78, 25, 0, 50, 1, "MODEL"], [81, 25, 2, 50, 4, "VAE"], [82, 50, 0, 39, 0, "IMAGE"], [83, 52, 0, 50, 5, "UPSCALE_MODEL"], [90, 24, 0, 28, 4, "CONDITIONING"], [91, 24, 0, 50, 2, "CONDITIONING"], [92, 21, 0, 50, 3, "CONDITIONING"], [93, 29, 7, 42, 8, "INT"]], "groups": [{"title": "Controlnet Switch", "bounding": [780, 1211, 293, 103], "color": "#3f789e", "locked": false}, {"title": "Controlnet", "bounding": [-137, 791, 831, 618], "color": "#3f789e", "locked": false}, {"title": "Detailer Switch", "bounding": [1774, 724, 293, 254], "color": "#3f789e", "locked": false}, {"title": "Detailer", "bounding": [2104, 365, 1796, 1037], "color": "#3f789e", "locked": false}], "config": {}, "extra": {}, "version": 0.4}