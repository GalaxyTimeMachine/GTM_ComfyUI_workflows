{"last_node_id": 292, "last_link_id": 621, "nodes": [{"id": 186, "type": "Reroute", "pos": [1159.8049265136722, -90.31880200195309], "size": [90.4, 26], "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 462}], "outputs": [{"name": "STRING", "type": "STRING", "links": [463], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}}, {"id": 183, "type": "Reroute", "pos": [1159, -145], "size": [90.4, 26], "flags": {}, "order": 27, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 457}], "outputs": [{"name": "STRING", "type": "STRING", "links": [458, 459], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}}, {"id": 182, "type": "Reroute", "pos": [68, -144], "size": [90.4, 26], "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 456}], "outputs": [{"name": "STRING", "type": "STRING", "links": [457], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}}, {"id": 185, "type": "Reroute", "pos": [68, -89], "size": [90.4, 26], "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 461}], "outputs": [{"name": "STRING", "type": "STRING", "links": [462], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}}, {"id": 204, "type": "SaveImage", "pos": [1059.3652282226562, 1005.3815472338861], "size": {"0": 315, "1": 58}, "flags": {"collapsed": true}, "order": 38, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 488}], "properties": {}, "widgets_values": ["GTM_SDXL_v2"]}, {"id": 179, "type": "Reroute", "pos": [330, 1110], "size": [90.4, 26], "flags": {}, "order": 25, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 451}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [448], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}}, {"id": 180, "type": "Reroute", "pos": [88, 1110], "size": [90.4, 26], "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 450}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [451], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}}, {"id": 226, "type": "SeargeIntegerMath", "pos": [-540.6291971601563, 375.00494729443307], "size": [260.3999938964844, 102], "flags": {"collapsed": true}, "order": 19, "mode": 0, "inputs": [{"name": "a", "type": "INT", "link": 533, "widget": {"name": "a", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}}, {"name": "c", "type": "INT", "link": 531, "widget": {"name": "c", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}}], "outputs": [{"name": "result", "type": "INT", "links": [543], "shape": 3, "slot_index": 0}], "title": "a=Total Steps | c=Refiner Steps", "properties": {"Node name for S&R": "SeargeIntegerMath"}, "widgets_values": ["a - c", 35, 1, 5], "color": "#432", "bgcolor": "#653"}, {"id": 239, "type": "SeargeIntegerMath", "pos": [-539.6291971601563, 420.0049472944328], "size": [260.3999938964844, 102], "flags": {"collapsed": true}, "order": 20, "mode": 0, "inputs": [{"name": "a", "type": "INT", "link": 544, "widget": {"name": "a", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}}, {"name": "c", "type": "INT", "link": 545, "widget": {"name": "c", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}}], "outputs": [{"name": "result", "type": "INT", "links": [546], "shape": 3, "slot_index": 0}], "title": "a=Total Steps | c=Refiner Steps", "properties": {"Node name for S&R": "SeargeIntegerMath"}, "widgets_values": ["a - c", 35, 1, 5], "color": "#432", "bgcolor": "#653"}, {"id": 191, "type": "PreviewImage", "pos": [1850.9008863281285, 532.93907397461], "size": {"0": 349.4914245605469, "1": 291.4783020019531}, "flags": {}, "order": 45, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 573}], "title": "Preview Mask", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 189, "type": "CLIPTextEncode", "pos": [1930.900886328127, 212.93907397460939], "size": {"0": 383.0995788574219, "1": 88.64876556396484}, "flags": {"collapsed": true}, "order": 13, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 466, "slot_index": 0}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [477], "slot_index": 0}], "title": "Face Prompt Negative", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["featureless colourless (game pixelated distorted glitch abstract error, worst quality:1.2)"], "color": "#322", "bgcolor": "#533"}, {"id": 190, "type": "MaskToImage", "pos": [1941.300593359377, 492.53906939697293], "size": {"0": 210, "1": 26}, "flags": {"collapsed": true}, "order": 44, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 467}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [573], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "MaskToImage"}}, {"id": 188, "type": "PreviewImage", "pos": [2715.300593359373, 42.539069396972565], "size": {"0": 785.1624755859375, "1": 802.5396118164062}, "flags": {}, "order": 43, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 591}], "title": "Final Image", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 192, "type": "CLIPTextEncode", "pos": [1914.3005933593777, 172.5390693969726], "size": {"0": 210, "1": 54}, "flags": {"collapsed": true}, "order": 34, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 469, "slot_index": 0}, {"name": "text", "type": "STRING", "link": 483, "widget": {"name": "text", "config": ["STRING", {"multiline": true}]}, "slot_index": 1}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [476], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["NSFW, a full-body photo of naked __actress__ staring up at the sky"], "color": "#232", "bgcolor": "#353"}, {"id": 193, "type": "Checkpoint Loader (Simple)", "pos": [1850.9008863281285, 12.939073974609355], "size": {"0": 315, "1": 118}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [473], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [466, 469, 474], "shape": 3, "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [578], "shape": 3, "slot_index": 2}, {"name": "NAME_STRING", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Checkpoint Loader (Simple)"}, "widgets_values": ["GTM_ForYou-Photo_v2_pruned.safetensors"]}, {"id": 14, "type": "CheckpointLoaderSimple", "pos": [1417, -19.907435351562544], "size": {"0": 339.733642578125, "1": 100.60211944580078}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [579], "shape": 3}, {"name": "CLIP", "type": "CLIP", "links": [581], "shape": 3, "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [67], "shape": 3, "slot_index": 2}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["GTM_ForYou-Photo_v2_pruned.safetensors"], "color": "#222", "bgcolor": "#000"}, {"id": 17, "type": "CLIPTextEncode", "pos": [1490, 340], "size": {"0": 210, "1": 54}, "flags": {"collapsed": true}, "order": 33, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 582}, {"name": "text", "type": "STRING", "link": 463, "widget": {"name": "text", "config": ["STRING", {"multiline": true}]}, "slot_index": 1}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [329], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["featureless colourless (game pixelated distorted glitch abstract error), text, watermark"], "color": "#322", "bgcolor": "#533"}, {"id": 39, "type": "UpscaleModelLoader", "pos": [1440, 380], "size": {"0": 315, "1": 58}, "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [71], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UpscaleModelLoader", "ttNbgOverride": {"color": "#222", "bgcolor": "#000", "groupcolor": "#444"}}, "widgets_values": ["4x_NMKD-Siax_200k.pth"], "color": "#222", "bgcolor": "#000"}, {"id": 16, "type": "CLIPTextEncode", "pos": [1490, 300], "size": {"0": 210, "1": 54}, "flags": {"collapsed": true}, "order": 30, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 583, "slot_index": 0}, {"name": "text", "type": "STRING", "link": 458, "widget": {"name": "text", "config": ["STRING", {"multiline": true}]}, "slot_index": 1}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [372], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["NSFW, a full-body photo of naked __actress__ staring up at the sky"], "color": "#232", "bgcolor": "#353"}, {"id": 184, "type": "Reroute", "pos": [1645, -145], "size": [90.4, 26], "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 459}], "outputs": [{"name": "STRING", "type": "STRING", "links": [483], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}}, {"id": 268, "type": "Text box", "pos": [1831, 977], "size": {"0": 647.592041015625, "1": 161.34454345703125}, "flags": {}, "order": 3, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Text box"}, "widgets_values": ["To disable/enable the upscaler, select the 'Ultimate SD Upscaler' node and press ctrl+b to set the bypass mode.\n\nDo the same with the 'FaceDetailer node to enable/disable that."], "color": "#222", "bgcolor": "#000"}, {"id": 42, "type": "UltimateSDUpscale", "pos": [1440, 480], "size": {"0": 315, "1": 590}, "flags": {}, "order": 39, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 599}, {"name": "model", "type": "MODEL", "link": 580, "slot_index": 1}, {"name": "positive", "type": "CONDITIONING", "link": 372, "slot_index": 2}, {"name": "negative", "type": "CONDITIONING", "link": 329, "slot_index": 3}, {"name": "vae", "type": "VAE", "link": 67, "slot_index": 4}, {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 71}, {"name": "seed", "type": "INT", "link": 464, "widget": {"name": "seed", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}}, {"name": "tile_width", "type": "INT", "link": 402, "widget": {"name": "tile_width", "config": ["INT", {"default": 512, "min": 8, "max": 8192, "step": 8}]}, "slot_index": 7}, {"name": "tile_height", "type": "INT", "link": 403, "widget": {"name": "tile_height", "config": ["INT", {"default": 512, "min": 8, "max": 8192, "step": 8}]}, "slot_index": 8}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [602], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UltimateSDUpscale", "ttNbgOverride": {"color": "#222", "bgcolor": "#000", "groupcolor": "#444"}}, "widgets_values": [2, 34300, "fixed", 15, 7.5, "dpmpp_2m_sde_gpu", "karras", 0.25, "Linear", 1472, 704, 32, 88, "None", 1, 64, 8, 16, "enable"], "color": "#222", "bgcolor": "#000"}, {"id": 195, "type": "Image Save", "pos": [2400, 22], "size": {"0": 387.2843322753906, "1": 346}, "flags": {"collapsed": true}, "order": 42, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 471}], "properties": {"Node name for S&R": "Image Save"}, "widgets_values": ["UpScaled", "SDXL_detailer", "_", 4, "true", "jpeg", 100, "false", "false", "false", "true", "true", "false"]}, {"id": 177, "type": "ttN pipeLoader", "pos": [27, -2], "size": {"0": 379.2649841308594, "1": 498}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "positive", "type": "STRING", "link": 438, "widget": {"name": "positive", "config": ["STRING", {"default": "Positive", "multiline": true}]}}, {"name": "negative", "type": "STRING", "link": 439, "widget": {"name": "negative", "config": ["STRING", {"default": "Negative", "multiline": true}]}}, {"name": "seed", "type": "INT", "link": 442, "widget": {"name": "seed", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}}, {"name": "clip_skip", "type": "INT", "link": 496, "widget": {"name": "clip_skip", "config": ["INT", {"default": -1, "min": -24, "max": -1, "step": 1}]}}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": [436], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": null, "shape": 3}, {"name": "positive", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "negative", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "latent", "type": "LATENT", "links": null, "shape": 3}, {"name": "vae", "type": "VAE", "links": null, "shape": 3}, {"name": "clip", "type": "CLIP", "links": [], "shape": 3, "slot_index": 6}, {"name": "seed", "type": "INT", "links": null, "shape": 3}], "title": "pipeLoader - Refiner", "properties": {"Node name for S&R": "ttN pipeLoader", "ttNbgOverride": {"color": "#222", "bgcolor": "#000", "groupcolor": "#444"}, "ttNnodeVersion": "1.0.1"}, "widgets_values": ["SDXL\\sd_xl_refiner_1.0_0.9vae.safetensors", "Baked VAE", -2, "None", 0.5, 1, "None", 1, 1, "None", 1, 1, "Positive", "none", "comfy", "Negative", "none", "comfy", 1024, 1024, 1, 34754, "fixed"], "color": "#223", "bgcolor": "#335"}, {"id": 249, "type": "ImpactImageBatchToImageList", "pos": [1928, 880], "size": {"0": 210, "1": 26}, "flags": {}, "order": 40, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 602}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [575], "shape": 6, "slot_index": 0}], "properties": {"Node name for S&R": "ImpactImageBatchToImageList"}}, {"id": 196, "type": "FaceDetailer", "pos": [2228, 87], "size": {"0": 456, "1": 788}, "flags": {}, "order": 41, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 575}, {"name": "model", "type": "MODEL", "link": 473}, {"name": "clip", "type": "CLIP", "link": 474}, {"name": "vae", "type": "VAE", "link": 578}, {"name": "positive", "type": "CONDITIONING", "link": 476}, {"name": "negative", "type": "CONDITIONING", "link": 477}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 478, "slot_index": 6}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": 479}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": null}], "outputs": [{"name": "image", "type": "IMAGE", "links": [471, 591], "shape": 3, "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": [], "shape": 6, "slot_index": 1}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": [], "shape": 6, "slot_index": 2}, {"name": "mask", "type": "MASK", "links": [467], "shape": 3, "slot_index": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3}], "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [320, true, 840, 1072, "increment", 15, 6, "dpmpp_2m_sde_gpu", "karras", 0.29999999999999993, 5, true, true, 0.4, 10, 3, "center-1", 0, 0.4, 0, 0.25, "False", 10, ""]}, {"id": 194, "type": "UltralyticsDetectorProvider", "pos": [1870.9008863281285, 252.93907397460956], "size": {"0": 315, "1": 78}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [478], "shape": 3, "slot_index": 0}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": null, "shape": 3}], "properties": {"Node name for S&R": "UltralyticsDetectorProvider"}, "widgets_values": ["bbox/face_yolov8n_v2.pt"]}, {"id": 187, "type": "SAMLoader", "pos": [1871.3005933593788, 367.53906939697293], "size": {"0": 315, "1": 82}, "flags": {}, "order": 5, "mode": 0, "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [479], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "SAMLoader"}, "widgets_values": ["sam_vit_b_01ec64.pth", "Prefer GPU"], "color": "#232", "bgcolor": "#353"}, {"id": 252, "type": "LoraLoader", "pos": [1429, 124], "size": {"0": 315, "1": 126}, "flags": {}, "order": 14, "mode": 4, "inputs": [{"name": "model", "type": "MODEL", "link": 579}, {"name": "clip", "type": "CLIP", "link": 581}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [580], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [582, 583], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "LoraLoader"}, "widgets_values": ["add_detail.safetensors", 0.7, 0.7]}, {"id": 109, "type": "ImpactWildcardProcessor", "pos": [-885.6291971601563, 11.004947294433522], "size": [772.7625122070312, 207.58372497558594], "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [425], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImpactWildcardProcessor"}, "widgets_values": ["a beautiful disney princess, in the style of Pixar", "a beautiful disney princess, in the style of Pixar", true], "color": "#232", "bgcolor": "#353"}, {"id": 32, "type": "PrimitiveNode", "pos": [-885.31575884375, 272.0050998823241], "size": {"0": 210, "1": 82}, "flags": {}, "order": 7, "mode": 0, "outputs": [{"name": "INT", "type": "INT", "links": [442, 443, 537, 538], "widget": {"name": "seed", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}, "slot_index": 0}], "title": "seed", "properties": {}, "widgets_values": [34755, "increment"], "color": "#432", "bgcolor": "#653"}, {"id": 278, "type": "LoadImage", "pos": [-884.7958762890624, 733.4973842265626], "size": [400.0343525390624, 403.1769902343749], "flags": {}, "order": 8, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [611], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": [], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["0006_SDXL_detailer.jpg", "image"], "color": "#233", "bgcolor": "#355"}, {"id": 175, "type": "ttN pipeLoader", "pos": [24, 550], "size": {"0": 410.0570373535156, "1": 540.4334106445312}, "flags": {}, "order": 23, "mode": 0, "inputs": [{"name": "positive", "type": "STRING", "link": 440, "widget": {"name": "positive", "config": ["STRING", {"default": "Positive", "multiline": true}]}}, {"name": "negative", "type": "STRING", "link": 441, "widget": {"name": "negative", "config": ["STRING", {"default": "Negative", "multiline": true}]}}, {"name": "seed", "type": "INT", "link": 443, "widget": {"name": "seed", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}}, {"name": "clip_skip", "type": "INT", "link": 495, "widget": {"name": "clip_skip", "config": ["INT", {"default": -1, "min": -24, "max": -1, "step": 1}]}}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": [435], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [610], "shape": 3, "slot_index": 1}, {"name": "positive", "type": "CONDITIONING", "links": [605], "shape": 3, "slot_index": 2}, {"name": "negative", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "latent", "type": "LATENT", "links": null, "shape": 3}, {"name": "vae", "type": "VAE", "links": [551], "shape": 3, "slot_index": 5}, {"name": "clip", "type": "CLIP", "links": [], "shape": 3, "slot_index": 6}, {"name": "seed", "type": "INT", "links": null, "shape": 3}], "title": "pipeLoader - Base", "properties": {"Node name for S&R": "ttN pipeLoader", "ttNbgOverride": {"color": "#222", "bgcolor": "#000", "groupcolor": "#444"}, "ttNnodeVersion": "1.0.1"}, "widgets_values": ["SDXL\\sd_xl_base_1.0_0.9vae.safetensors", "Baked VAE", -2, "None", 1, 1, "None", 1, 1, "None", 1, 1, "big tree", "none", "comfy", "Negative", "none", "comfy", 1024, 1024, 1, 34754, "fixed"], "color": "#323", "bgcolor": "#535"}, {"id": 178, "type": "ttN pipeKSamplerAdvanced", "pos": [889, 172], "size": {"0": 454.66741943359375, "1": 935.7383422851562}, "flags": {}, "order": 36, "mode": 0, "inputs": [{"name": "pipe", "type": "PIPE_LINE", "link": 436}, {"name": "optional_model", "type": "MODEL", "link": null}, {"name": "optional_positive", "type": "CONDITIONING", "link": null}, {"name": "optional_negative", "type": "CONDITIONING", "link": null}, {"name": "optional_latent", "type": "LATENT", "link": 437}, {"name": "optional_vae", "type": "VAE", "link": 550}, {"name": "optional_clip", "type": "CLIP", "link": null}, {"name": "xyPlot", "type": "XYPLOT", "link": null}, {"name": "noise_seed", "type": "INT", "link": 538, "widget": {"name": "noise_seed", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}}, {"name": "steps", "type": "INT", "link": 535, "widget": {"name": "steps", "config": ["INT", {"default": 20, "min": 1, "max": 10000}]}}, {"name": "start_at_step", "type": "INT", "link": 543, "widget": {"name": "start_at_step", "config": ["INT", {"default": 0, "min": 0, "max": 10000}]}}, {"name": "end_at_step", "type": "INT", "link": 536, "widget": {"name": "end_at_step", "config": ["INT", {"default": 10000, "min": 0, "max": 10000}]}}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": null, "shape": 3}, {"name": "model", "type": "MODEL", "links": null, "shape": 3}, {"name": "positive", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "negative", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "latent", "type": "LATENT", "links": [585], "shape": 3, "slot_index": 4}, {"name": "vae", "type": "VAE", "links": null, "shape": 3}, {"name": "clip", "type": "CLIP", "links": null, "shape": 3}, {"name": "image", "type": "IMAGE", "links": [488, 599], "shape": 3, "slot_index": 7}, {"name": "seed", "type": "INT", "links": [464], "shape": 3, "slot_index": 8}], "title": "pipeKSamplerAdvanced - Refiner", "properties": {"Node name for S&R": "ttN pipeKSamplerAdvanced", "ttNbgOverride": {"color": "#222", "bgcolor": "#000", "groupcolor": "#444"}, "ttNnodeVersion": "1.0.3"}, "widgets_values": ["None", 1, 1, "None", 2, "disabled", "Sample", "disable", 35, 8.5, "dpmpp_2m", "karras", 5, 60, "disable", "Preview", "Comfy", 514394326229139, "randomize"], "color": "#223", "bgcolor": "#335"}, {"id": 176, "type": "ttN pipeKSamplerAdvanced", "pos": [496.2959797363281, 497.35007934570245], "size": {"0": 323.2442932128906, "1": 618}, "flags": {}, "order": 35, "mode": 0, "inputs": [{"name": "pipe", "type": "PIPE_LINE", "link": 435}, {"name": "optional_model", "type": "MODEL", "link": null}, {"name": "optional_positive", "type": "CONDITIONING", "link": 606}, {"name": "optional_negative", "type": "CONDITIONING", "link": null}, {"name": "optional_latent", "type": "LATENT", "link": 448}, {"name": "optional_vae", "type": "VAE", "link": 551}, {"name": "optional_clip", "type": "CLIP", "link": null}, {"name": "xyPlot", "type": "XYPLOT", "link": null}, {"name": "noise_seed", "type": "INT", "link": 537, "widget": {"name": "noise_seed", "config": ["INT", {"default": 0, "min": 0, "max": 18446744073709552000}]}}, {"name": "steps", "type": "INT", "link": 534, "widget": {"name": "steps", "config": ["INT", {"default": 20, "min": 1, "max": 10000}]}, "slot_index": 9}, {"name": "end_at_step", "type": "INT", "link": 546, "widget": {"name": "end_at_step", "config": ["INT", {"default": 10000, "min": 0, "max": 10000}]}, "slot_index": 10}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": null, "shape": 3}, {"name": "model", "type": "MODEL", "links": null, "shape": 3}, {"name": "positive", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "negative", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "latent", "type": "LATENT", "links": [437], "shape": 3, "slot_index": 4}, {"name": "vae", "type": "VAE", "links": [550], "shape": 3, "slot_index": 5}, {"name": "clip", "type": "CLIP", "links": null, "shape": 3}, {"name": "image", "type": "IMAGE", "links": null, "shape": 3}, {"name": "seed", "type": "INT", "links": null, "shape": 3}], "title": "pipeKSamplerAdvanced - Base", "properties": {"Node name for S&R": "ttN pipeKSamplerAdvanced", "ttNbgOverride": {"color": "#222", "bgcolor": "#000", "groupcolor": "#444"}, "ttNnodeVersion": "1.0.3"}, "widgets_values": ["None", 0.3, 0.3, "None", 2, "disabled", "Sample", "enable", 35, 6.5, "dpmpp_2m", "karras", 0, 25, "enable", "Hide", "base", 1080014942195248, "randomize"], "color": "#323", "bgcolor": "#535"}, {"id": 170, "type": "Get latent size", "pos": [1527, 1121], "size": {"0": 315, "1": 98}, "flags": {"collapsed": true}, "order": 37, "mode": 0, "inputs": [{"name": "latent", "type": "LATENT", "link": 585, "slot_index": 0}], "outputs": [{"name": "INT", "type": "INT", "links": [402], "shape": 3}, {"name": "INT", "type": "INT", "links": [403], "shape": 3}, {"name": "TUPLE", "type": "TUPLE", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Get latent size", "ttNbgOverride": {"color": "#222", "bgcolor": "#000", "groupcolor": "#444"}}, "widgets_values": [false], "color": "#222", "bgcolor": "#000"}, {"id": 277, "type": "ControlNetApply", "pos": [-446, 1037], "size": {"0": 317.4000244140625, "1": 98}, "flags": {}, "order": 32, "mode": 0, "inputs": [{"name": "conditioning", "type": "CONDITIONING", "link": 605, "slot_index": 0}, {"name": "control_net", "type": "CONTROL_NET", "link": 609}, {"name": "image", "type": "IMAGE", "link": 618}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [606], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ControlNetApply"}, "widgets_values": [1], "color": "#233", "bgcolor": "#355"}, {"id": 283, "type": "DiffControlNetLoader", "pos": [-444.79587628906233, 733.4973842265626], "size": {"0": 315, "1": 58}, "flags": {}, "order": 28, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 610}], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [609], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "DiffControlNetLoader"}, "widgets_values": ["SDXL\\controlnet-canny-sdxll.fp16.bin"], "color": "#233", "bgcolor": "#355"}, {"id": 174, "type": "SDXLPromptStyler", "pos": [-661.6291971601563, 268.0049472944329], "size": [544.3883666992188, 203.12124633789062], "flags": {"collapsed": false}, "order": 15, "mode": 0, "inputs": [{"name": "text_positive", "type": "STRING", "link": 425, "widget": {"name": "text_positive", "config": ["STRING", {"default": "", "multiline": true}]}}], "outputs": [{"name": "positive_prompt_text_g", "type": "STRING", "links": [438, 440, 456], "shape": 3, "slot_index": 0}, {"name": "negative_prompt_text_g", "type": "STRING", "links": [439, 441, 461], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "SDXLPromptStyler"}, "widgets_values": ["", "a featureless colourless shader", "sai-cinematic", "No"], "color": "#322", "bgcolor": "#533"}, {"id": 289, "type": "Get latent size", "pos": [-450, 991], "size": {"0": 315, "1": 98}, "flags": {"collapsed": true}, "order": 18, "mode": 0, "inputs": [{"name": "latent", "type": "LATENT", "link": 614, "slot_index": 0}], "outputs": [{"name": "INT", "type": "INT", "links": [615], "shape": 3, "slot_index": 0}, {"name": "INT", "type": "INT", "links": [616], "shape": 3, "slot_index": 1}, {"name": "TUPLE", "type": "TUPLE", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Get latent size", "ttNbgOverride": {"color": "#222", "bgcolor": "#000", "groupcolor": "#444"}}, "widgets_values": [false], "color": "#233", "bgcolor": "#355"}, {"id": 288, "type": "ImageScale", "pos": [-284, 993], "size": [315, 130], "flags": {"collapsed": true}, "order": 26, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 617, "slot_index": 0}, {"name": "width", "type": "INT", "link": 615, "widget": {"name": "width", "config": ["INT", {"default": 512, "min": 1, "max": 8192, "step": 1}]}}, {"name": "height", "type": "INT", "link": 616, "widget": {"name": "height", "config": ["INT", {"default": 512, "min": 1, "max": 8192, "step": 1}]}}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [618], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageScale"}, "widgets_values": ["nearest-exact", 512, 512, "center"], "color": "#233", "bgcolor": "#355"}, {"id": 162, "type": "Empty Latent Ratio Select SDXL", "pos": [-430.6291971601564, 523.0049472944322], "size": [315, 82], "flags": {"pinned": false}, "order": 9, "mode": 0, "outputs": [{"name": "LATENT", "type": "LATENT", "links": [450, 614], "shape": 3, "slot_index": 0}], "title": "SDXL Image Ratio select", "properties": {"Node name for S&R": "Empty Latent Ratio Select SDXL"}, "widgets_values": ["1:1 [1024x1024 square]", 1], "color": "#432", "bgcolor": "#653"}, {"id": 207, "type": "PrimitiveNode", "pos": [-657.31575884375, 522.0050998823222], "size": {"0": 210, "1": 82}, "flags": {}, "order": 10, "mode": 0, "outputs": [{"name": "INT", "type": "INT", "links": [495, 496], "slot_index": 0, "widget": {"name": "clip_skip", "config": ["INT", {"default": -1, "min": -24, "max": -1, "step": 1}]}}], "title": "Clip Skip", "properties": {}, "widgets_values": [-2, "fixed"], "color": "#432", "bgcolor": "#653"}, {"id": 233, "type": "ReroutePrimitive|pysssss", "pos": [-885.6291971601563, 416.0049472944329], "size": [210, 58], "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "value", "type": "*", "link": null, "label": " ", "slot_index": 0}], "outputs": [{"name": "*", "type": "INT", "links": [533, 534, 535, 536, 544], "shape": 3, "label": "INT", "slot_index": 0}], "title": "Total steps (base+refiner)", "properties": {"Node name for S&R": "ReroutePrimitive|pysssss"}, "widgets_values": [30], "color": "#432", "bgcolor": "#653"}, {"id": 231, "type": "ReroutePrimitive|pysssss", "pos": [-886.6291971601563, 539.0049472944322], "size": [210, 58], "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "value", "type": "*", "link": null, "label": " ", "slot_index": 0}], "outputs": [{"name": "*", "type": "INT", "links": [531, 545], "shape": 3, "label": "INT", "slot_index": 0}], "title": "Refiner Steps", "properties": {"Node name for S&R": "ReroutePrimitive|pysssss"}, "widgets_values": [6], "color": "#432", "bgcolor": "#653"}, {"id": 282, "type": "Image Canny Filter", "pos": [-446, 835], "size": {"0": 315, "1": 106}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 611}], "outputs": [{"name": "images", "type": "IMAGE", "links": [617], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Image Canny Filter"}, "widgets_values": ["false", 0.4, 0.8], "color": "#233", "bgcolor": "#355"}], "links": [[67, 14, 2, 42, 4, "VAE"], [71, 39, 0, 42, 5, "UPSCALE_MODEL"], [329, 17, 0, 42, 3, "CONDITIONING"], [372, 16, 0, 42, 2, "CONDITIONING"], [402, 170, 0, 42, 7, "INT"], [403, 170, 1, 42, 8, "INT"], [425, 109, 0, 174, 0, "STRING"], [435, 175, 0, 176, 0, "PIPE_LINE"], [436, 177, 0, 178, 0, "PIPE_LINE"], [437, 176, 4, 178, 4, "LATENT"], [438, 174, 0, 177, 0, "STRING"], [439, 174, 1, 177, 1, "STRING"], [440, 174, 0, 175, 0, "STRING"], [441, 174, 1, 175, 1, "STRING"], [442, 32, 0, 177, 2, "INT"], [443, 32, 0, 175, 2, "INT"], [448, 179, 0, 176, 4, "LATENT"], [450, 162, 0, 180, 0, "*"], [451, 180, 0, 179, 0, "*"], [456, 174, 0, 182, 0, "*"], [457, 182, 0, 183, 0, "*"], [458, 183, 0, 16, 1, "STRING"], [459, 183, 0, 184, 0, "*"], [461, 174, 1, 185, 0, "*"], [462, 185, 0, 186, 0, "*"], [463, 186, 0, 17, 1, "STRING"], [464, 178, 8, 42, 6, "INT"], [466, 193, 1, 189, 0, "CLIP"], [467, 196, 3, 190, 0, "MASK"], [469, 193, 1, 192, 0, "CLIP"], [471, 196, 0, 195, 0, "IMAGE"], [473, 193, 0, 196, 1, "MODEL"], [474, 193, 1, 196, 2, "CLIP"], [476, 192, 0, 196, 4, "CONDITIONING"], [477, 189, 0, 196, 5, "CONDITIONING"], [478, 194, 0, 196, 6, "BBOX_DETECTOR"], [479, 187, 0, 196, 7, "SAM_MODEL"], [483, 184, 0, 192, 1, "STRING"], [488, 178, 7, 204, 0, "IMAGE"], [495, 207, 0, 175, 3, "INT"], [496, 207, 0, 177, 3, "INT"], [531, 231, 0, 226, 1, "INT"], [533, 233, 0, 226, 0, "INT"], [534, 233, 0, 176, 9, "INT"], [535, 233, 0, 178, 9, "INT"], [536, 233, 0, 178, 11, "INT"], [537, 32, 0, 176, 8, "INT"], [538, 32, 0, 178, 8, "INT"], [543, 226, 0, 178, 10, "INT"], [544, 233, 0, 239, 0, "INT"], [545, 231, 0, 239, 1, "INT"], [546, 239, 0, 176, 10, "INT"], [550, 176, 5, 178, 5, "VAE"], [551, 175, 5, 176, 5, "VAE"], [573, 190, 0, 191, 0, "IMAGE"], [575, 249, 0, 196, 0, "IMAGE"], [578, 193, 2, 196, 3, "VAE"], [579, 14, 0, 252, 0, "MODEL"], [580, 252, 0, 42, 1, "MODEL"], [581, 14, 1, 252, 1, "CLIP"], [582, 252, 1, 17, 0, "CLIP"], [583, 252, 1, 16, 0, "CLIP"], [585, 178, 4, 170, 0, "LATENT"], [591, 196, 0, 188, 0, "IMAGE"], [599, 178, 7, 42, 0, "IMAGE"], [602, 42, 0, 249, 0, "IMAGE"], [605, 175, 2, 277, 0, "CONDITIONING"], [606, 277, 0, 176, 2, "CONDITIONING"], [609, 283, 0, 277, 1, "CONTROL_NET"], [610, 175, 1, 283, 0, "MODEL"], [611, 278, 0, 282, 0, "IMAGE"], [614, 162, 0, 289, 0, "LATENT"], [615, 289, 0, 288, 1, "INT"], [616, 289, 1, 288, 2, "INT"], [617, 282, 0, 288, 0, "IMAGE"], [618, 288, 0, 277, 2, "IMAGE"]], "groups": [{"title": "SDXL-REFINER", "bounding": [874, 96, 483, 1029], "color": "#88A", "locked": false}, {"title": "GLOBAL PARAMETERS", "bounding": [-900, -73, 796, 697], "color": "#b58b2a", "locked": false}, {"title": "SDXL-BASE", "bounding": [483, 419, 353, 709], "color": "#a1309b", "locked": false}, {"title": "Ultimate SD Upscaler", "bounding": [1393, -94, 419, 1237], "color": "#3f789e", "locked": false}, {"title": "Detailer", "bounding": [1827, -77, 1710, 1008], "color": "#8AA", "locked": false}, {"title": "Controlnet", "bounding": [-902, 642, 798, 509], "color": "#3f789e", "locked": false}], "config": {}, "extra": {}, "version": 0.4}